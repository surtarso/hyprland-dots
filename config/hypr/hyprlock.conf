# HYPRLOCK LOCKSCREEN BASED ON:
# ═══════════════════════════════════════════════════════════════════════════════
# ArchRiot Hyprlock Configuration - CypherRiot Theme
# Modern, beautiful lock screen with CypherRiot colors and clean aesthetics
# ═══════════════════════════════════════════════════════════════════════════════
# FOUR MONITOR RE-WORK BY: Tarso Galvão

#================= COMMON FOR ALL SCREENS (all 4 monitors) ===============================
# Background with beautiful blur effect
background {
    monitor =
    path = /home/tarso/.local/share/archriot/backgrounds/riot_04.jpg
    color = rgba(8, 9, 12, 1.0)  # Much darker fallback

    # Subtle blur effect
    blur_passes = 2
    blur_size = 4
    noise = 0.0117
    contrast = 1.05
    brightness = 0.7
    vibrancy = 0.1
    vibrancy_darkness = 0.2
}

# General configuration
general {
    hide_cursor = true
    ignore_empty_input = false
    text_trim = false  #required for screenfetch ascii logo to show properly
}

#==================== MAIN LOCKSCREEN (middle monitor LANDSCAPE) ================================
# Distro Logo display
label {
    monitor = HDMI-A-1
    text = cmd[] screenfetch -LA "Arch Linux" -N
    color = rgba(160, 200, 250, 0.8)
    font_size = 14
    font_family = Hack Nerd Font
    position = 0, 0
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 2
    shadow_color = rgba(0, 0, 0, 0.6)
}

# Modern password input field
input-field {
    monitor = HDMI-A-1
    size = 400, 60
    position = 0, -350
    halign = center
    valign = center

    # Theme colors from CypherRiot palette
    inner_color = rgba(34, 36, 54, 0.95)     # Semi-transparent dark
    outer_color = rgba(125, 166, 255, 1.0)   # @accent5 - beautiful blue border
    outline_thickness = 3

    # Typography
    font_family = Hack Nerd Font
    font_color = rgba(187, 154, 247, 1.0)    # @accent4 - light purple for password dots

    # Placeholder styling
    placeholder_text = 󰌾 Try me.

    # States
    check_color = rgba(158, 206, 106, 1.0)   # Green for success
    fail_color = rgba(255, 158, 100, 1.0)    # Orange for failure
    fail_text = Noob

    # Visual effects
    rounding = 12
    shadow_passes = 3
    shadow_size = 8
    shadow_color = rgba(0, 0, 0, 0.5)
    fade_on_empty = true
    dots_center = true
    dots_spacing = 0.3
    dots_size = 0.25
}

# System status indicators - bottom left (like waybar)
label {
    monitor = HDMI-A-1
    text = cmd[update:5000] echo "󰍛 $(top -bn1 | grep "Cpu(s)" | awk '{print $2}' | cut -d'%' -f1)%"
    color = rgba(106, 125, 232, 0.8)  # CypherRiot CPU blue
    font_size = 12
    font_family = Hack Nerd Font
    position = 30, 80
    halign = left
    valign = bottom
}

label {
    monitor = HDMI-A-1
    text = cmd[update:5000] echo "󰍲 $(free -h | grep '^Mem' | awk '{print $3 "/" $2}')"
    color = rgba(138, 149, 232, 0.8)  # CypherRiot memory blue
    font_size = 12
    font_family = Hack Nerd Font
    position = 30, 50
    halign = left
    valign = bottom
}

label {
    monitor = HDMI-A-1
    text = cmd[update:10000] echo "󰌢 $(uptime -p | sed 's/up //')"
    color = rgba(122, 162, 247, 0.8)   # CypherRiot bright blue
    font_size = 12
    font_family = Hack Nerd Font
    position = 30, 20
    halign = left
    valign = bottom
}

# Subtle user@hostname display - top left
label {
    monitor = HDMI-A-1
    text = cmd[update:1000] echo "$USER@$(uname -n)"
    color = rgba(74, 43, 122, 0.8)   # CypherRiot dark purple
    font_size = 14
    font_family = Hack Nerd Font
    position = 30, -30
    halign = left
    valign = top
}

# Session indicator - top right
label {
    monitor = HDMI-A-1
    text = cmd[update:1000] echo "$(who | wc -l) active session(s)"
    color = rgba(13, 185, 215, 0.8)  # @accent6 - cyan for session info
    font_size = 14
    font_family = Hack Nerd Font
    position = -30, -30
    halign = right
    valign = top
}

# media status - top right
label {
    monitor = HDMI-A-1
    text = cmd[update:5000] sh -c 'echo " $(playerctl status 2>/dev/null || echo \"󰓛 Stopped\")"'
    color = rgba(13, 185, 215, 0.8)
    font_size = 14
    font_family = Hack Nerd Font
    position = -30, -60
    halign = right
    valign = top
}

# System status indicators - bottom right
# Network
label {
    monitor = HDMI-A-1
    text = cmd[update:60000] sh -c "IFACE=\$(ip route get 1.1.1.1 | awk '/dev/ {print \$5}'); IP=\$(ip -4 addr show \$IFACE | awk '/inet /{print \$2}' | cut -d/ -f1); printf '󰖩 %s • %s' \$IFACE \$IP"
    color = rgba(106, 125, 232, 0.8)  # CypherRiot CPU blue
    font_size = 12
    font_family = Hack Nerd Font
    position = -30, 100
    halign = right
    valign = bottom
}

# Kernel + package count
label {
    monitor = HDMI-A-1
    text = cmd[update:600000] sh -c "printf ' %s  •   %d pkgs' \"$(uname -r)\" \"$(pacman -Q | wc -l)\""
     color = rgba(138, 149, 232, 0.8)  # CypherRiot memory blue
    font_size = 12
    font_family = Hack Nerd Font
    position = -30, 70
    halign = right
    valign = bottom
}

# HDD
label {
    monitor = HDMI-A-1
    text = cmd[update:60000] sh -c "for MOUNT in / /home; do df -h --output=source,size,used,target \$MOUNT | awk 'NR==2 {printf \"  %s: %s/%s\", \$4, \$3, \$2}'; done"
    color = rgba(122, 162, 247, 0.8)   # CypherRiot bright blue
    font_size = 12
    font_family = Hack Nerd Font
    position = -30, 40
    halign = right
    valign = bottom
}

#======================= SAMSUNG(right monitor PORTRAIT) ===========================
# Time display - small bottom right
label {
    monitor = DP-1
    text = cmd[update:1000] echo "$(date +'%I:%M %p')"
    color = rgba(160, 200, 250, 0.8)
    font_size = 12
    font_family = Hack Nerd Font Bold
    position = -30, 10
    halign = right
    valign = bottom
    shadow_passes = 2
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.8)
}

# Date display small bottom left
label {
    monitor = DP-1
    text = cmd[update:3600000] echo "$(date +'%A %B %-d, %Y')"
    color = rgba(160, 200, 250, 0.8)
    font_size = 12
    font_family = Hack Nerd Font Bold
    position = 30, 10
    halign = left
    valign = bottom
    shadow_passes = 2
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.8)
}

# VM's status (15 secs update)
label {
    monitor = DP-1
    text = cmd[update:15000] sh -c 'for i in $(seq 220 229); do IP="192.168.15.$i"; HOST=$(getent hosts $IP | awk "{print \$2}"); [ -z "$HOST" ] && HOST=$IP; ping -c1 -W1 $IP >/dev/null 2>&1 && STATUS="󰈀" || STATUS="󰈂"; echo -e "$STATUS $HOST\n"; done'
    color = rgba(125, 166, 255, 0.9)
    font_size = 14
    font_family = Hack Nerd Font
    position = 0, 50
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 2
    shadow_color = rgba(0, 0, 0, 0.8)
}

#========================= TV LOCKSCREEN (top (top-left) monitor LANDSCAPE) ================================
# Time display - large and prominent
label {
    monitor = DVI-D-1
    text = cmd[update:1000] echo "$(date +'%H:%M %p')"
    color = rgba(160, 200, 250, 0.8)
    font_size = 72
    font_family = Hack Nerd Font Bold
    position = 0, 200
    halign = center
    valign = center
    shadow_passes = 2
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.8)
}

# Date display with weather info
label {
    monitor = DVI-D-1
    # text = cmd[update:3600000] echo "$(date +'%A %B %-d, %Y')"
    text = cmd[update:60000] echo "$(date +'%A, %B %-d %Y') | $(curl -s "wttr.in/~"22631-052"?format=1")"
    color = rgba(125, 166, 255, 0.9)  # @accent5 - secondary blue
    font_size = 22
    font_family = Hack Nerd Font
    position = 0, 120
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 2
    shadow_color = rgba(0, 0, 0, 0.6)
}

# Quote display
label {
    monitor = DVI-D-1
    # Programming jokes
    #text = cmd[update:900000] curl -s https://v2.jokeapi.dev/joke/Programming?type=single | jq -r '.joke' | fold -s -w 80 | awk -v width=80 '{n=int((width-length($0))/2); for(i=0;i<n;i++) printf " "; print $0}'
    # Random quotes 
    #text = cmd[update:900000] curl -s https://zenquotes.io/api/random | jq -r '.[0].q' | fold -s -w 80 | awk -v width=80 '{n=int((width-length($0))/2); for(i=0;i<n;i++) printf " "; print $0}'
    # Today's quote (w/ author)
    #text = cmd[] curl -s https://zenquotes.io/api/today | jq -r '"\n" + .[0].q + "\n- " + .[0].a' | fold -s -w 80 | awk -v width=80 '{n=int((width-length($0))/2); for(i=0;i<n;i++) printf " "; print $0}'
    # Hacker humor
    text = cmd[300000] curl -s https://icanhazdadjoke.com/ -H "Accept: text/plain"
    color = rgba(13, 185, 215, 0.8)  # @accent6 - cyan for session info
    font_size = 16
    font_family = Hack Nerd Font
    position = 0, -50
    halign = center
    valign = center
    shadow_passes = 1
    shadow_size = 2
    shadow_color = rgba(0, 0, 0, 0.6)
}

# Moon phase (local calc)
label {
    monitor = DVI-D-1
    text = cmd[update:1000] date +%d | awk '{m=int($1/29*8); phases="🌑🌒🌓🌔🌕🌖🌗🌘"; print substr(phases,m+1,1)}'
    color = rgba(160, 200, 250, 0.8)
    font_size = 72
    font_family = Hack Nerd Font Bold
    position = 0, -300
    halign = center
    valign = center
    shadow_passes = 2
    shadow_size = 4
    shadow_color = rgba(0, 0, 0, 0.8)
}

#========================= SAMSUNG (left monitor PORTRAIT) ================================
label {
    monitor = HDMI-A-3
    text = cmd[update:5000] sh -c "cpu=\$(sensors | awk '/k10temp-pci-00c3/,/^$/ {if(/Tctl/) print \$2}' | tr -d '+'); gpu_apu=\$(sensors | awk '/amdgpu-pci-0b00/,/^$/ {if(/edge/) print \$2}' | tr -d '+'); gpu_discrete=\$(sensors | awk '/amdgpu-pci-0100/,/^$/ {if(/edge/) print \$2}' | tr -d '+'); nvme=\$(sensors | awk '/nvme-pci-0a00/,/^$/ {if(/Composite/) print \$2}' | tr -d '+'); printf '󰍛 Ryzen 5 %s\n\n󰢮 Vega 7 %s\n\n󰢮 RX 550 %s\n\n󰘚 NVMe / %s\n' \$cpu \$gpu_apu \$gpu_discrete \$nvme"
    color = rgba(138, 149, 232, 0.8)
    font_size = 14
    font_family = Hack Nerd Font
    position = 0, -300
    halign = center
    valign = center
}
